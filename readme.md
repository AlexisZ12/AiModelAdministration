# ğŸï¸ AiModelAdministration

## ğŸ” é¡¹ç›®æ¦‚è¿°

**AiModelAdministration**æ˜¯ä¸€æ¬¾ä¸“ä¸ºèµ›è½¦æ¨¡å‹çˆ±å¥½è€…æ‰“é€ çš„å¼€æºå·¥å…·ï¼Œç»“åˆ Elasticsearch æœç´¢å¼•æ“ä¸ OpenAI è¯­ä¹‰ç†è§£æŠ€æœ¯ï¼Œæä¾›é«˜æ•ˆã€æ™ºèƒ½çš„æ¨¡å‹æ”¶è—ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿæ”¯æŒå¤šç»´åº¦åˆ†ç±»ã€æ™ºèƒ½æ£€ç´¢å’Œæ•°æ®æ‰¹é‡å¤„ç†ï¼Œè®©æ‚¨çš„æ¨¡å‹æ”¶è—ç®¡ç†æ›´è½»æ¾ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½
1. å…¨é¢çš„åº“å­˜ç®¡ç†
- æ”¯æŒæ¨¡å‹ä¿¡æ¯çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆæ–°å¢ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤ï¼‰
- å†…ç½®é»˜è®¤æ¨¡å‹å±æ€§ï¼ˆå“ç‰Œã€æ¯”ä¾‹ã€èµ›å­£ã€è½¦é˜Ÿç­‰ï¼‰
- æ”¯æŒè‡ªå®šä¹‰å­—æ®µé…ç½®ï¼Œé€‚åº”ä¸åŒæ”¶è—éœ€æ±‚
2. æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ
- å…³é”®è¯ç²¾ç¡®æ£€ç´¢ï¼šæŒ‰ç‰¹å®šå±æ€§ç²¾å‡†æŸ¥æ‰¾
- æ¨¡ç³Šæ£€ç´¢ï¼šæ”¯æŒè¿‘ä¼¼åŒ¹é…ï¼Œå®¹å¿è¾“å…¥è¯¯å·®
- è¯­ä¹‰æ£€ç´¢ï¼šåŸºäº OpenAI å‘é‡åµŒå…¥ï¼Œç†è§£è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ„å›¾
3. æ‰¹é‡æ•°æ®å¤„ç†
- Excel æ¨¡æ¿å¯¼å…¥ï¼šå¿«é€Ÿæ‰¹é‡æ·»åŠ æ¨¡å‹æ•°æ®
- æ•°æ®å¯¼å‡ºå¤‡ä»½ï¼šæ”¯æŒå°†åº“å­˜ä¿¡æ¯å¯¼å‡ºä¸º Excel
- æ‰¹é‡çŠ¶æ€ç­›é€‰ï¼šæŒ‰å…¥åº“ / é¢„å”® / é€€è®¢ / å·²å”®çŠ¶æ€åˆ†ç±»æŸ¥çœ‹
4. çµæ´»çš„ç³»ç»Ÿé…ç½®
- æ”¯æŒ Elasticsearch è¿æ¥å‚æ•°è‡ªå®šä¹‰
- å…¼å®¹ OpenAI åŠå…¼å®¹ API æœåŠ¡ï¼ˆæ”¯æŒæ¥å£åœ°å€ä¸å¯†é’¥é…ç½®ï¼‰
- æ•°æ®å­˜å‚¨è·¯å¾„å¯é…ç½®ï¼Œæ–¹ä¾¿å¤‡ä»½ç®¡ç†
5. ä¸¤ç§ä½¿ç”¨æ¨¡å¼
- é»˜è®¤æ¨¡å¼ï¼šä½¿ç”¨é¢„è®¾çš„èµ›è½¦æ¨¡å‹å±æ€§å­—æ®µ
- è‡ªå®šä¹‰æ¨¡å¼ï¼šæ ¹æ®ä¸ªäººéœ€æ±‚åˆ›å»ºä¸“å±å­—æ®µä½“ç³»

## ğŸ› ï¸ æŠ€æœ¯æ ˆ
- åç«¯
  - Python 3.8+
  - Elasticsearch Python SDK
  - OpenAI Python SDK
- äº¤äº’ç•Œé¢
  - PyWebIOï¼ˆç”¨äºåˆ›å»º Web äº¤äº’åº”ç”¨ï¼‰

## ğŸš€ åŠŸèƒ½è¯´æ˜
1. å¯è§†åŒ–çš„åˆå§‹åŒ–æ•°æ®åº“ï¼Œå¯ä»¥è‡ªç”±æ„å»ºä½ ä¸ªæ•°æ®åº“æ ¼å¼ï¼Œä¹Ÿå¯ä½¿ç”¨é»˜è®¤æ ¼å¼  
<img src="pic/009.png" height="50%" width="50%"/>

2. ä½¿ç”¨Excelè¡¨æ ¼æ‰¹é‡å½•å…¥æ•°æ®ï¼Œè¿‡å»çš„æ•°æ®ä¸€é”®å½•å…¥ï¼Œæ— ç—›è½¬æ¢å¹³å°  
<img src="pic/010.png" height="50%" width="50%" />

3. ä¸€é”®ç™»è®°å…¨æ–°æ¨¡å‹ï¼Œæ–¹ä¾¿å¿«æ·  
<img src="pic/011.png" height="50%" width="50%" />

4. å¤šç§æ£€ç´¢æ¨¡å¼

- å…³é”®è¯æ£€ç´¢â€”â€”é«˜æ•ˆï¼ˆä¼ ç»ŸåŒ¹é…æ–¹å¼ï¼Œæœç´¢ç²¾å‡†ï¼‰  
<img src="pic/012.png" height="50%" width="50%" />

- æ¨¡ç³Šæ£€ç´¢â€”â€”æ–¹ä¾¿ï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼Œæ”¯æŒæ‹¼å†™é”™è¯¯çº æ­£ï¼‰  
<img src="pic/013.png" height="50%" width="50%" />

- è¯­ä¹‰æ£€ç´¢-æ™ºèƒ½ï¼ˆå¦‚æœç´¢ä¸–å† å³å¯è¿”å›ä¸–ç•Œå† å†›çš„æ¨¡å‹ï¼‰  
<img src="pic/014.png" height="50%" width="50%" />

5. ä¸€é”®ä¿®æ”¹ï¼ŒæŸ¥æ‰¾åˆ°æ¨¡å‹ï¼Œä¸€é”®ç‚¹å‡»å³å¯ä¿®æ”¹  
<img src="pic/015.png" height="50%" width="50%" />

6. å·²åŠ å¯¼å‡ºæˆexcelï¼Œæ–¹ä¾¿å¤‡ä»½æ•°æ®  

## ğŸ“¬ è”ç³»æˆ‘ä»¬

- ğŸ“‚ **GitHubé¡¹ç›®ä»“åº“**: [AlexisZ12/AiModelAdministration](https://github.com/AlexisZ12/AiModelAdministration)
- ğŸ“‚ **çˆ±å‘ç”µé¡¹ç›®ä»“åº“**: [AiModelAdministration](https://afdian.com/album/9ed97c4077f211f087955254001e7c00)
- â­ **æ¬¢è¿Star**: å¦‚æœå–œæ¬¢è¿™ä¸ªé¡¹ç›®ï¼Œè¯·åœ¨GitHubä¸Šç‚¹ä¸ªStaræ”¯æŒæˆ‘ä»¬
- âœ‰ï¸ **è”ç³»é‚®ç®±**: 2242809239@qq.com
- ğŸ’¬ **å¾®ä¿¡**: `Alexis_12_Z`
- ğŸ’– **çˆ±å‘ç”µ**: [AlexisZ12](https://afdian.com/a/AlexisZ12)


## ğŸ“¦ é¡¹ç›®ç¯å¢ƒéƒ¨ç½²æŒ‡å—

### ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜ï¼ˆä»…ä¾›å‚è€ƒï¼‰

| ç»„ä»¶ | æµ‹è¯•ç‰ˆæœ¬ | å…¼å®¹èŒƒå›´ |
|------|----------|----------|
| Elasticsearch | 8.15.0 | 8.xç³»åˆ— |
| Python | 3.10 | â‰¥3.10 |
| IKåˆ†è¯å™¨ | 8.15.0 | éœ€ä¸ESä¸»ç‰ˆæœ¬ä¸¥æ ¼åŒ¹é… |

> æ³¨æ„äº‹é¡¹  
> 1. IKåˆ†è¯å™¨ç‰ˆæœ¬å¿…é¡»ä¸Elasticsearchä¸»ç‰ˆæœ¬ä¸€è‡´  
> 2. ç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨xpackå®‰å…¨æ¨¡å—  
> 3. Windowsç³»ç»Ÿéœ€ä½¿ç”¨PowerShellæ‰§è¡ŒDockerå‘½ä»¤

### ä¸€ã€Elasticsearchç¯å¢ƒéƒ¨ç½²

#### â–æ–¹æ¡ˆä¸€ï¼šå®˜æ–¹æ¸ é“ä¸‹è½½ï¼ˆæ¨èï¼‰

| ç»„ä»¶ | ä¸‹è½½åœ°å€ |
|------|----------|
| Elasticsearch | https://www.elastic.co/downloads/past-releases/elasticsearch-8-15-0 |
| IKåˆ†è¯å™¨ | https://release.infinilabs.com/analysis-ik/stable/elasticsearch-analysis-ik-8.15.0.zip |
| Kibanaï¼ˆå¯é€‰ï¼‰| https://www.elastic.co/downloads/past-releases/kibana-8-15-0 |

#### â–æ–¹æ¡ˆäºŒï¼šç½‘ç»œäº‘ç›˜ä¸‹è½½

| èµ„æºå¹³å° | ä¸‹è½½åœ°å€ |
|----------|----------|
| é˜¿é‡Œäº‘ç›˜ | https://www.alipan.com/s/DSAeUFYeC11 |
| å¤¸å…‹ç½‘ç›˜ | https://pan.quark.cn/s/260c70bb004a |

#### â–æ–¹æ¡ˆä¸‰ï¼šDockerå®¹å™¨åŒ–éƒ¨ç½²

**Elasticsearchç‹¬ç«‹éƒ¨ç½²**ï¼š

```bash
docker run -d --name elasticsearch \
  -p 127.0.0.1:9200:9200 \
  -p 127.0.0.1:9300:9300 \
  -e "discovery.type=single-node" \
  -e "ES_JAVA_OPTS=-Xms2g -Xmx2g" \
  -e "xpack.security.enabled=false" \
  -e "network.host=127.0.0.1" \
  -v ${LOCAL_DATA_PATH}/data:/usr/share/elasticsearch/data \
  -v ${LOCAL_DATA_PATH}/plugins:/usr/share/elasticsearch/plugins \
  -v ${LOCAL_DATA_PATH}/logs:/usr/share/elasticsearch/logs \
  docker.elastic.co/elasticsearch/elasticsearch:8.15.0
```

**Elasticsearch + Kibanaè”åˆéƒ¨ç½²**ï¼š

åˆ›å»ºä¸“ç”¨ç½‘ç»œ

```bash
docker network create es-net
```

å¯åŠ¨Elasticsearch

```bash
docker run -d --name elasticsearch \
  --network es-net \
  -p 9200:9200 -p 9300:9300 \
  -e "discovery.type=single-node" \
  -e "ES_JAVA_OPTS=-Xms2g -Xmx2g" \
  -e "xpack.security.enabled=false" \
  -v ${LOCAL_DATA_PATH}/data:/usr/share/elasticsearch/data \
  -v ${LOCAL_DATA_PATH}/plugins:/usr/share/elasticsearch/plugins \
  -v ${LOCAL_DATA_PATH}/logs:/usr/share/elasticsearch/logs \
  docker.elastic.co/elasticsearch/elasticsearch:8.15.0
```

å¯åŠ¨Kibana

```bash
docker run -d --name kibana \
  --network es-net \
  -p 5601:5601 \
  -e "ELASTICSEARCH_HOSTS=http://elasticsearch:9200" \
  docker.elastic.co/kibana/kibana:8.15.0
```

> **æ³¨æ„**ï¼šå°†`${LOCAL_DATA_PATH}`æ›¿æ¢ä¸ºå®é™…å­˜å‚¨è·¯å¾„ï¼ŒKibanaé»˜è®¤è®¿é—®åœ°å€ï¼šhttp://localhost:5601

---

### äºŒã€Pythonç¯å¢ƒé…ç½®

#### â–æ–¹æ¡ˆä¸€ï¼šCondaè™šæ‹Ÿç¯å¢ƒéƒ¨ç½²ï¼ˆæ¨èï¼‰

åˆ›å»ºPython 3.10è™šæ‹Ÿç¯å¢ƒ

```bash
conda create -n es python=3.10 -y
conda activate es
```

å®‰è£…æ ¸å¿ƒä¾èµ–

```bash
pip install elasticsearch==8.15.0 openai pandas openpyxl
```
å›½å†…ä½¿ç”¨å¯å°è¯•ä½¿ç”¨æ¸…åæºåŠ é€Ÿ

```bash
pip install elasticsearch==8.15.0 openai pandas openpyxl -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### â–æ–¹æ¡ˆäºŒï¼šå…¨å±€Pythonç¯å¢ƒå®‰è£…

ç¡®ä¿Pythonç‰ˆæœ¬â‰¥3.10
```bash
python --version
```
å®‰è£…é¡¹ç›®ä¾èµ–
```bash
pip install elasticsearch==8.15.0 openai pandas openpyxl
```
å›½å†…ä½¿ç”¨å¯å°è¯•ä½¿ç”¨æ¸…åæºåŠ é€Ÿ
```bash
pip install elasticsearch==8.15.0 openai pandas openpyxl -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### ä¸‰ã€ElasticSearchè®¾ç½®

åˆæ¬¡ä½¿ç”¨éœ€è¦å®‰è£…IKåˆ†è¯å™¨æ’ä»¶ï¼Œå¹¶åšéƒ¨åˆ†è®¾ç½®ï¼Œä¸‹é¢ä»¥MacOSä¸ºä¾‹è¿›è¡Œåˆå§‹åŒ–ã€‚  
1. è§£å‹elasticsearchå’ŒIKåˆ†è¯å™¨æ’ä»¶  
<img src="pic/001.png"  height="100" />
2. æŠŠIKåˆ†è¯å™¨è§£å‹æ–‡ä»¶åç§°æ”¹ä¸ºik  
<img src="pic/002.png"  height="100" />
3. å°†IKåˆ†è¯å™¨æ’ä»¶å¤åˆ¶åˆ°`elasticsearch-8.15.0/plugins`æ–‡ä»¶å¤¹ä¸­  
<img src="pic/003.png"  height="100" />
4. å¯åŠ¨ElasticSearchï¼Œè¿è¡Œæ–‡ä»¶`elasticsearch-8.15.0/bin/elasticsearch`  
<img src="pic/004.png"  height="100" />
5. ç¬¬ä¸€æ¬¡è¿è¡Œå¯èƒ½ä¼šä¿å­˜æ— æ³•éªŒè¯ï¼Œå…ˆç‚¹`å®Œæˆ`  
<img src="pic/005.png"  height="200" />
6. è¿›å…¥`è®¾ç½®`â€”â€”`éšç§ä¸å®‰å…¨æ€§`â€”â€”`å®‰å…¨æ€§`  
<img src="pic/006.png"  height="150" />
7. ç‚¹å‡»`ä»è¦æ‰“å¼€`â€”â€”`ä»è¦æ‰“å¼€`  
<img src="pic/007.png"  height="200" />
8. ElasticSearchä¼šåœ¨ç»ˆç«¯ä¸­å¯åŠ¨ï¼Œèµ·ä¸€æ¬¡å¯åŠ¨åç›´æ¥å…³é—­  
9. æ‰“å¼€é…ç½®æ–‡ä»¶`elasticsearch-8.15.0/config/elasticsearch.yml`æŒ‰ç…§ä¸€ä¸‹æ¨¡æ¿ä¿®æ”¹  

```yml
# Enable security features
xpack.security.enabled: false

xpack.security.enrollment.enabled: false

# Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents
xpack.security.http.ssl:
  enabled: false
  keystore.path: certs/http.p12

# Enable encryption and mutual authentication between cluster nodes
xpack.security.transport.ssl:
  enabled: false
  verification_mode: certificate
  keystore.path: certs/transport.p12
  truststore.path: certs/transport.p12
```

```yml
# Allow HTTP API connections from anywhere
# Connections are encrypted and require user authentication
http.host: 127.0.0.1
```

10. é‡æ–°å¯åŠ¨ElasticSearchï¼Œè¿è¡Œæ–‡ä»¶`elasticsearch-8.15.0/bin/elasticsearch`  
<img src="pic/008.png"  height="200" />
